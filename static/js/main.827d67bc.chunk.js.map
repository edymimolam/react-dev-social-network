{"version":3,"sources":["redux/profileReducer.js","redux/dialogsReducer.js","utils/helpers.js","redux/usersReducer.js","API/API.js","redux/preloaderReducer.js","redux/appReducer.js","Theme.js","hoc/withSuspense.js","DrawerContainer.jsx","App.js","serviceWorker.js","redux/sidebarReducer.js","redux/store.js","index.js","redux/authReducer.js","components/common/Preloader/Preloader.jsx","components/common/Preloader/Preloader.module.css"],"names":["initialState","profileInfo","updateProfileInfoSuccess","posts","id","message","likesCount","profileStatus","setProfileStatus","type","payload","getProfileInfo","userId","dispatch","a","togglePreloader","profileAPI","data","getProfileStatus","updateProfileStatus","status","resultCode","setProfilePhoto","img","uploadProfilePhoto","photos","submitProfileInfo","values","updateProfileInfo","then","messages","length","stopSubmit","_error","profileReducer","state","action","newPost","filter","p","dialogs","name","addNewMessage","newMessage","dialogsReducer","updateObjInArray","arr","searchProp","objProp","updatingProps","map","item","FOLLOW","users","usersTotalCount","usersPerPage","currentPage","followUser","unfollowUser","setUsersState","setUsersTotalCount","count","setUsersCurrentPage","pageNum","getUsers","usersAPI","items","totalCount","followUnfollowCreator","apiMethod","actionCreator","follow","followAPI","bind","unfollow","usersReducer","followed","server","axios","baseURL","withCredentials","headers","authAPI","me","get","r","login","email","password","rememberMe","captcha","post","logout","delete","securityAPI","getCaptchaURL","info","put","formData","FormData","append","isFetching","preloaderReducer","isInitialized","appReducer","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","withSuspense","WrappedComponent","props","fallback","Preloader","useStyles","makeStyles","root","display","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","loginButton","textDecoration","color","toolbar","alignItems","justifyContent","mixins","drawerPaper","content","flexGrow","padding","ResponsiveDrawer","container","children","isAuthorized","classes","useTheme","React","useState","mobileOpen","setMobileOpen","handleDrawerToggle","className","Typography","variant","Divider","List","style","to","ListItem","button","ListItemIcon","ListItemText","AppBar","position","Toolbar","IconButton","aria-label","edge","onClick","Button","Hidden","smUp","implementation","Drawer","anchor","direction","open","onClose","paper","ModalProps","keepMounted","xsDown","UsersContainer","lazy","DialogsContainer","ProfileContainer","Login","App","this","initialization","ThemeProvider","DrawerContainer","path","render","Component","compose","withRouter","connect","app","auth","getAuth","Boolean","window","location","hostname","match","friends","imgSrc","sidebarReducer","rootReducer","combineReducers","profilePage","dialogsPage","dialogReducer","sidebar","usersPage","preloader","authReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","basename","CssBaseline","document","getElementById","navigator","serviceWorker","ready","registration","unregister","captchaURL","setAuthData","captchaText","url","preloaderContainer","module","exports"],"mappings":"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","file":"static/js/main.827d67bc.chunk.js","sourcesContent":["import { togglePreloader } from \"./preloaderReducer\";\nimport { profileAPI } from \"../API/API\";\nimport { stopSubmit } from \"redux-form\";\n\nconst ADD_NEW_POST = \"profile/ADD-NEW-POST\";\nconst DELETE_POST = \"profile/DELETE_POST\";\nconst SET_PROFILE_INFO = \"profile/SET_PROFILE_INFO\";\nconst SET_PROFILE_STATUS = \"profile/SET_PROFILE_STATUS\";\nconst UPLOAD_PROFILE_PHOTO_SUCCESS = \"profile/UPLOAD_PROFILE_PHOTO_SUCCESS\";\nconst UPDATE_PROFILE_INFO_SUCCESS = \"profile/UPDATE_PROFILE_INFO_SUCCESS\";\n\nconst initialState = {\n  profileInfo: null,\n  updateProfileInfoSuccess: true,\n  posts: [\n    { id: 1, message: \"Hi, how are you?\", likesCount: 12 },\n    { id: 2, message: \"It's my first post\", likesCount: 11 },\n    { id: 3, message: \"Blabla\", likesCount: 11 },\n    { id: 4, message: \"Dada\", likesCount: 11 }\n  ],\n  profileStatus: \"\"\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_NEW_POST:\n      let newPost = { id: 5, message: action.newPost, likesCount: 0 };\n      return {\n        ...state,\n        posts: [...state.posts, newPost]\n      };\n\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.id)\n      };\n\n    case SET_PROFILE_INFO:\n      return {\n        ...state,\n        profileInfo: action.profileInfo\n      };\n\n    case SET_PROFILE_STATUS:\n      return {\n        ...state,\n        profileStatus: action.profileStatus\n      };\n\n    case UPLOAD_PROFILE_PHOTO_SUCCESS:\n      return {\n        ...state,\n        profileInfo: { ...state.profileInfo, photos: action.photos }\n      };\n\n    case UPDATE_PROFILE_INFO_SUCCESS:\n      return {\n        ...state,\n        updateProfileInfoSuccess: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addNewPost = newPost => ({ type: ADD_NEW_POST, newPost });\nexport const deletePost = id => ({ type: DELETE_POST, id });\nconst setProfileInfo = profileInfo => ({ type: SET_PROFILE_INFO, profileInfo });\nconst setProfileStatus = profileStatus => ({\n  type: SET_PROFILE_STATUS,\n  profileStatus\n});\nconst uploadProfilePhotoSuccess = photos => ({\n  type: UPLOAD_PROFILE_PHOTO_SUCCESS,\n  photos\n});\nconst updateProfileInfoSuccess = payload => ({\n  type: UPDATE_PROFILE_INFO_SUCCESS,\n  payload\n});\n\nexport const getProfileInfo = userId => async dispatch => {\n  dispatch(togglePreloader(true));\n  let data = await profileAPI.getProfileInfo(userId);\n  dispatch(setProfileInfo(data));\n  dispatch(togglePreloader(false));\n};\n\nexport const getProfileStatus = userId => async dispatch => {\n  let data = await profileAPI.getProfileStatus(userId);\n  dispatch(setProfileStatus(data));\n};\n\nexport const updateProfileStatus = status => async dispatch => {\n  let data = await profileAPI.updateProfileStatus(status);\n  if (data.resultCode === 0) dispatch(setProfileStatus(status));\n};\n\nexport const setProfilePhoto = img => async dispatch => {\n  dispatch(togglePreloader(true));\n  let data = await profileAPI.uploadProfilePhoto(img);\n  if (data.resultCode === 0)\n    dispatch(uploadProfilePhotoSuccess(data.data.photos));\n  dispatch(togglePreloader(false));\n};\n\nexport const submitProfileInfo = values => dispatch => {\n  dispatch(togglePreloader(true));\n  profileAPI.updateProfileInfo(values).then(data => {\n    if (data.resultCode === 0) {\n      dispatch(updateProfileInfoSuccess(true));\n      dispatch(getProfileInfo(values.userId));\n    } else {\n      dispatch(updateProfileInfoSuccess(false));\n      let message =\n        data.messages.length > 0 ? data.messages[0] : \"Server error\";\n      dispatch(stopSubmit(\"profile-info\", { _error: message }));\n    }\n    dispatch(togglePreloader(false));\n  });\n};\n\nexport default profileReducer;\n","const ADD_NEW_MESSAGE = \"ADD-NEW-MESSAGE\";\n\nconst initialState = {\n  dialogs: [\n    { id: 1, name: \"Dimych\" },\n    { id: 2, name: \"Andrew\" },\n    { id: 3, name: \"Sveta\" },\n    { id: 4, name: \"Sasha\" },\n    { id: 5, name: \"Viktor\" },\n    { id: 6, name: \"Valera\" }\n  ],\n  messages: [\n    { id: 1, message: \"Hi\" },\n    { id: 2, message: \"How is your it-kamasutra?\" },\n    { id: 3, message: \"Yo\" },\n    { id: 4, message: \"Yo\" },\n    { id: 5, message: \"Yo\" },\n    { id: 6, message: \"How is your it-kamasutra?\" }\n  ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_NEW_MESSAGE:\n      return {\n        ...state,\n        messages: [\n          ...state.messages,\n          {\n            id: 7,\n            message: action.newMessage\n          }\n        ]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addNewMessage = newMessage => ({\n  type: ADD_NEW_MESSAGE,\n  newMessage\n});\n\nexport default dialogsReducer;\n","export const updateObjInArray = (arr, searchProp, objProp, updatingProps) => {\n  return arr.map(item => {\n    if (item[searchProp] === objProp) return { ...item, ...updatingProps };\n    return item;\n  });\n};\n","import { usersAPI, followAPI } from \"../API/API\";\nimport { togglePreloader } from \"./preloaderReducer\";\nimport { updateObjInArray } from \"../utils/helpers\";\n\nconst FOLLOW = \"users/FOLLOW\";\nconst UNFOLLOW = \"users/UNFOLLOW\";\nconst SET_STATE = \"users/SET_STATE\";\nconst SET_TOTAL_COUNT = \"users/SET_TOTAL_COUNT\";\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\n\nconst initialState = {\n  users: [],\n  usersTotalCount: 0,\n  usersPerPage: 20,\n  currentPage: 1\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjInArray(state.users, \"id\", action.id, {\n          followed: true\n        })\n      };\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjInArray(state.users, \"id\", action.id, {\n          followed: false\n        })\n      };\n\n    case SET_STATE:\n      return {\n        ...state,\n        users: action.users\n      };\n\n    case SET_TOTAL_COUNT:\n      return {\n        ...state,\n        usersTotalCount: action.count\n      };\n\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.pageNum\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst followUser = id => ({ type: FOLLOW, id: id });\nconst unfollowUser = id => ({ type: UNFOLLOW, id: id });\nconst setUsersState = users => ({ type: SET_STATE, users: users });\nconst setUsersTotalCount = count => ({ type: SET_TOTAL_COUNT, count: count });\nconst setUsersCurrentPage = pageNum => ({\n  type: SET_CURRENT_PAGE,\n  pageNum: pageNum\n});\n\nexport const getUsers = (\n  currentPage = initialState.currentPage,\n  usersPerPage = initialState.usersPerPage\n) => async dispatch => {\n  dispatch(togglePreloader(true));\n  dispatch(setUsersCurrentPage(currentPage));\n  let data = await usersAPI.getUsers(currentPage, usersPerPage);\n  dispatch(setUsersState(data.items));\n  dispatch(setUsersTotalCount(data.totalCount));\n  dispatch(togglePreloader(false));\n};\n\nconst followUnfollowCreator = async (\n  dispatch,\n  id,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(togglePreloader(true));\n  let data = await apiMethod(id);\n  if (data.resultCode === 0) dispatch(actionCreator(id));\n  dispatch(togglePreloader(false));\n};\n\nexport const follow = id => dispatch =>\n  followUnfollowCreator(\n    dispatch,\n    id,\n    followAPI.follow.bind(followAPI),\n    followUser\n  );\n\nexport const unfollow = id => dispatch =>\n  followUnfollowCreator(\n    dispatch,\n    id,\n    followAPI.unfollow.bind(followAPI),\n    unfollowUser\n  );\n\nexport default usersReducer;\n","import * as axios from \"axios\";\n\nconst server = axios.create({\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  withCredentials: true,\n  headers: { \"API-KEY\": \"15f9d65f-a9d8-4f21-9b16-0d634e9d5732\" }\n});\n\nexport const authAPI = {\n  me() {\n    return server.get(`auth/me`).then(r => r.data);\n  },\n  login(email, password, rememberMe = false, captcha = null) {\n    return server\n      .post(\"auth/login\", { email, password, rememberMe, captcha })\n      .then(r => r.data);\n  },\n  logout() {\n    return server.delete(\"auth/login\").then(r => r.data);\n  }\n};\n\nexport const securityAPI = {\n  getCaptchaURL() {\n    return server.get(\"security/get-captcha-url\").then(r => r.data);\n  }\n};\n\nexport const usersAPI = {\n  getUsers(pageNum = 1, usersPerPage = 10) {\n    return server\n      .get(`users?page=${pageNum}&count=${usersPerPage}`)\n      .then(r => r.data);\n  }\n};\n\nexport const profileAPI = {\n  getProfileInfo(id) {\n    return server.get(`/profile/${id}`).then(r => r.data);\n  },\n  updateProfileInfo(info) {\n    return server.put(\"/profile\", info).then(r => r.data);\n  },\n  getProfileStatus(id) {\n    return server.get(`/profile/status/${id}`).then(r => r.data);\n  },\n  updateProfileStatus(status) {\n    return server.put(\"/profile/status\", { status }).then(r => r.data);\n  },\n  uploadProfilePhoto(img) {\n    const formData = new FormData();\n    formData.append(\"image\", img);\n    return server\n      .put(\"profile/photo\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      })\n      .then(r => r.data);\n  }\n};\n\nexport const followAPI = {\n  follow(id) {\n    return server.post(`follow/${id}`).then(r => r.data);\n  },\n  unfollow(id) {\n    return server.delete(`follow/${id}`).then(r => r.data);\n  }\n};\n","const TOGGLE_PRELOADER = \"preloader/TOGGLE_PRELOADER\";\n\nlet initialState = {\n  isFetching: true\n};\n\nconst preloaderReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case TOGGLE_PRELOADER:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const togglePreloader = isFetching => ({\n  type: TOGGLE_PRELOADER,\n  isFetching\n});\n\nexport default preloaderReducer;\n","import { getAuth } from \"./authReducer\";\n\nconst INITIALIZING_COMPLETE = \"app/INITIALIZING_COMPLETE\";\n\nconst initialState = { isInitialized: false };\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZING_COMPLETE:\n      return {\n        ...state,\n        isInitialized: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst initComplete = () => ({ type: INITIALIZING_COMPLETE });\n\nexport const initialization = () => async dispatch => {\n  await dispatch(getAuth());\n  dispatch(initComplete());\n};\n\nexport default appReducer;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#757ce8\",\n      main: \"#3f50b5\",\n      dark: \"#002884\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      light: \"#ff7961\",\n      main: \"#f44336\",\n      dark: \"#ba000d\",\n      contrastText: \"#000\"\n    }\n  }\n});\n","import React, { Suspense } from \"react\";\nimport Preloader from \"../components/common/Preloader/Preloader\";\n\n// const withSuspense = (WrappedComponent) => {\n//   return class extends React.Component {\n//     render(){\n//       return <Suspense fallback={<Preloader/>}>\n//         <WrappedComponent {...this.props}/>\n//       </Suspense>\n//     }\n//   }\n// }\n\nconst withSuspense = WrappedComponent => props => {\n  return (\n    <Suspense fallback={<Preloader />}>\n      <WrappedComponent {...props} />\n    </Suspense>\n  );\n};\n\nexport default withSuspense;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport { Link } from \"react-router-dom\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  loginButton: {\n    textDecoration: \"none\",\n    color: \"inherit\",\n    marginLeft: \"auto\"\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    ...theme.mixins.toolbar\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  }\n}));\n\nfunction ResponsiveDrawer(props) {\n  const { container, children, isAuthorized, logout } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar}>\n        <Typography variant=\"subtitle1\">My Own React Dev Net</Typography>\n      </div>\n      <Divider />\n      <List>\n        <Link\n          style={{ color: \"inherit\", textDecoration: \"none\" }}\n          to=\"/profile\"\n        >\n          <ListItem button>\n            <ListItemIcon>\n              <AccountCircleIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"My Profile\" />\n          </ListItem>\n        </Link>\n      </List>\n      <Divider />\n      <List>\n        <Link style={{ color: \"inherit\", textDecoration: \"none\" }} to=\"/users\">\n          <ListItem button>\n            <ListItemIcon>\n              <GroupIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Users\" />\n          </ListItem>\n        </Link>\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Link to=\"/\" style={{ color: \"inherit\" }}>\n            <IconButton color=\"inherit\">\n              <HomeIcon />\n            </IconButton>\n          </Link>\n          {isAuthorized ? (\n            <IconButton\n              onClick={logout}\n              style={{ marginLeft: \"auto\" }}\n              color=\"inherit\"\n            >\n              <ExitToAppIcon />\n            </IconButton>\n          ) : (\n            <Link className={classes.loginButton} to=\"/login\">\n              <Button color=\"inherit\" variant=\"outlined\">\n                LogIn\n              </Button>\n            </Link>\n          )}\n        </Toolbar>\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper\n            }}\n            ModalProps={{\n              keepMounted: true // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {children}\n      </main>\n    </div>\n  );\n}\n\nexport default ResponsiveDrawer;\n","import React, { lazy, Component } from \"react\";\nimport { Route, Switch, withRouter, Redirect } from \"react-router-dom\";\nimport { initialization } from \"./redux/appReducer\";\nimport { logout } from \"./redux/authReducer\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport \"./App.css\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { theme } from \"./Theme\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport withSuspense from \"./hoc/withSuspense\";\nimport DrawerContainer from \"./DrawerContainer\";\n\nconst UsersContainer = lazy(() => import(\"./components/Users/UsersContainer\"));\nconst DialogsContainer = lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\nconst Login = lazy(() => import(\"./components/Login/Login\"));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initialization();\n  }\n\n  render() {\n    const { isInitialized, isAuthorized } = this.props;\n\n    if (!isInitialized) return <Preloader />;\n\n    return (\n      <ThemeProvider theme={theme}>\n        <DrawerContainer logout={this.props.logout} isAuthorized={isAuthorized}>\n          <Switch>\n            <Route path=\"/login\" render={() => <Login />} />\n            <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => <ProfileContainer />}\n            />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"/\" render={() => <Redirect to=\"/profile\" />} />\n          </Switch>\n        </DrawerContainer>\n      </ThemeProvider>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  app: { isInitialized },\n  auth: { isAuthorized }\n}) => ({\n  isInitialized,\n  isAuthorized\n});\n\nexport default compose(\n  withSuspense,\n  withRouter,\n  connect(mapStateToProps, { initialization, logout })\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\n  friends: [\n    {\n      id: 1,\n      imgSrc:\n        \"https://pbs.twimg.com/profile_images/2961744297/163acffba0bb34c5e9c2b5a7e3dfdbdd.jpeg\",\n      name: \"Ashton\"\n    },\n    {\n      id: 2,\n      imgSrc:\n        \"https://i.guim.co.uk/img/static/sys-images/Film/Pix/pictures/2007/11/21/wristcutters_sq.jpg?width=300&quality=85&auto=format&fit=max&s=57a595e431a97a203fad29fe2ccfd453\",\n      name: \"Shannyn\"\n    },\n    {\n      id: 3,\n      imgSrc:\n        \"https://www.stylist.co.uk/images/app/uploads/2017/11/29085005/johnny-depp-crop-1511945435-1090x1090.jpg?w=256&h=256&fit=max&auto=format%2Ccompress\",\n      name: \"Johny\"\n    },\n    {\n      id: 4,\n      imgSrc:\n        \"https://www.stylist.co.uk/images/app/uploads/2019/08/27124508/resized-lucy-4-256x256.jpg?w=256&h=256&fit=max&auto=format%2Ccompress\",\n      name: \"Natalie\"\n    }\n  ]\n};\n\nconst sidebarReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default sidebarReducer;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./appReducer\";\nimport profileReducer from \"./profileReducer\";\nimport dialogReducer from \"./dialogsReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport preloaderReducer from \"./preloaderReducer\";\nimport authReducer from \"./authReducer\";\n\nconst rootReducer = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  preloader: preloaderReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunkMiddleware))\n);\n\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware) )\n\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./redux/store\";\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Provider store={store}>\n      <CssBaseline />\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { authAPI, securityAPI } from \"../API/API\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_AUTH_DATA = \"auth/SET_AUTH_DATA\";\n\nlet initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuthorized: false,\n  captchaURL: null\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_AUTH_DATA:\n      return {\n        ...state,\n        ...action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setAuthData = (\n  id,\n  email,\n  login,\n  isAuthorized,\n  captchaURL = null\n) => ({\n  type: SET_AUTH_DATA,\n  payload: { id, email, login, isAuthorized, captchaURL }\n});\n\nexport const getAuth = () => async dispatch => {\n  let data = await authAPI.me();\n  let { id, email, login } = data.data;\n  if (data.resultCode === 0) dispatch(setAuthData(id, email, login, true));\n  return data;\n};\n\nexport const login = (\n  email,\n  password,\n  rememberMe,\n  captchaText\n) => async dispatch => {\n  let data = await authAPI.login(email, password, rememberMe, captchaText);\n  if (data.resultCode === 0) {\n    dispatch(getAuth());\n  } else {\n    if (data.resultCode === 10) {\n      let data = await securityAPI.getCaptchaURL();\n      let captchaURL = data.url;\n      dispatch(setAuthData(null, null, null, false, captchaURL));\n    }\n    let message = data.messages.length > 0 ? data.messages[0] : \"Server error\";\n    dispatch(stopSubmit(\"login\", { _error: message }));\n  }\n};\n\nexport const logout = () => async dispatch => {\n  let data = await authAPI.logout();\n  if (data.resultCode === 0) dispatch(setAuthData(null, null, null, false));\n};\n\nexport default authReducer;\n","import React from \"react\";\nimport style from \"./Preloader.module.css\";\nimport { BubbleSpinLoader } from \"react-css-loaders\";\n\nconst Preloader = () => {\n  return (\n    <div className={style.preloaderContainer}>\n      <div className={style.preloader}>\n        <BubbleSpinLoader color=\"#fff\" />\n      </div>\n    </div>\n  );\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderContainer\":\"Preloader_preloaderContainer__1D5OQ\",\"preloader\":\"Preloader_preloader__2dvkO\"};"],"sourceRoot":""}