{"version":3,"sources":["redux/preloaderReducer.js","components/Sidebar/Navbar/Navbar.module.css","redux/appReducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Sidebar/Navbar/Navbar.jsx","components/Sidebar/Friends/Friend/Friend.jsx","components/Sidebar/Friends/Friends.jsx","components/Sidebar/Friends/FriendsContainer.jsx","components/Sidebar/Sidebar.jsx","hoc/withSuspense.js","App.js","serviceWorker.js","redux/sidebarReducer.js","redux/store.js","index.js","redux/authReducer.js","components/common/Preloader/Preloader.jsx","components/Sidebar/Friends/Friends.module.css","components/Sidebar/Friends/Friend/Friend.module.css","API/API.js","components/common/Preloader/Preloader.module.css","redux/profileReducer.js","redux/dialogsReducer.js","utils/helpers.js","redux/usersReducer.js","components/Header/Header.module.css"],"names":["initialState","isFetching","togglePreloader","type","preloaderReducer","state","action","module","exports","isInitialized","appReducer","Header","authInfo","logout","className","style","header","src","isAuthorized","login","onClick","to","connect","auth","props","Navbar","s","nav","item","activeClassName","activeLink","active","Friend","image","imgSrc","alt","name","Friends","friendsElements","friendsState","map","el","key","id","friends","title","container","FriendsContainer","sidebar","Sidebar","withSuspense","WrappedComponent","fallback","Preloader","UsersContainer","lazy","DialogsContainer","ProfileContainer","Login","App","this","initialization","isInit","path","render","Component","compose","withRouter","app","dispatch","a","getAuth","Boolean","window","location","hostname","match","sidebarReducer","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","dialogReducer","usersPage","usersReducer","preloader","authReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","basename","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","email","setAuthData","payload","authAPI","me","data","resultCode","password","rememberMe","message","messages","length","stopSubmit","_error","preloaderContainer","color","server","axios","baseURL","withCredentials","headers","get","r","post","delete","usersAPI","getUsers","pageNum","usersPerPage","profileAPI","getProfileInfo","getProfileStatus","updateProfileStatus","status","put","uploadProfilePhoto","img","formData","FormData","append","followAPI","follow","unfollow","profileInfo","posts","likesCount","profileStatus","addNewPost","newPost","setProfileStatus","userId","setProfilePhoto","photos","filter","p","dialogs","addNewMessage","newMessage","dialogsReducer","updateObjInArray","arr","searchProp","objProp","updatingProps","FOLLOW","users","usersTotalCount","currentPage","followUser","unfollowUser","setUsersState","setUsersTotalCount","count","setUsersCurrentPage","items","totalCount","followUnfollowCreator","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.540564c2.chunk.js","sourcesContent":["const TOGGLE_PRELOADER = 'preloader/TOGGLE_PRELOADER'\n\nlet initialState = {\n  isFetching: true\n}\n\nconst preloaderReducer = (state = initialState, action) => {\n\n  switch(action.type) {\n\n    case TOGGLE_PRELOADER:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      }\n\n    default:\n      return state\n  }\n}\n\nexport const togglePreloader = (isFetching) => ({type: TOGGLE_PRELOADER, isFetching})\n\nexport default preloaderReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3bgC2\",\"item\":\"Navbar_item__12nH8\",\"activeLink\":\"Navbar_activeLink__2MXWi\"};","import { getAuth } from './authReducer'\n\nconst INITIALIZING_COMPLETE = 'app/INITIALIZING_COMPLETE'\n\nconst initialState = { isInitialized: false }\n\nconst appReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case INITIALIZING_COMPLETE:\n      return {\n        ...state,\n        isInitialized: true\n      }\n\n    default:\n      return state\n  }\n}\n\nconst initComplete = () => ({ type: INITIALIZING_COMPLETE })\n\nexport const initialization = () => async (dispatch) => {\n  await dispatch(getAuth())\n  dispatch(initComplete())\n}\n\n\nexport default appReducer","import React from 'react'\r\nimport style from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = ({authInfo, logout}) => {\r\n\r\n  return <header className={style.header}>\r\n    <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png' />\r\n    <div >\r\n      {\r\n        authInfo.isAuthorized\r\n          ? <div>{authInfo.login} <button onClick={logout}>LogOut</button></div>\r\n          : <NavLink to='/login'>Login</NavLink>\r\n      }\r\n    </div>\r\n  </header>\r\n}\r\n\r\nexport default Header","import React from 'react'\nimport Header from './Header'\nimport {connect} from 'react-redux'\nimport {logout} from '../../redux/authReducer'\n\nconst HeaderContainer = (props) => <Header {...props}/> \n\nconst mapStateToProps = (state) => ({authInfo: state.auth})\n\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n              <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>News</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Music</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Settings</a>\r\n            </div>\r\n        </nav>\r\n\r\n        \r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react'\nimport s from './Friend.module.css'\n\nconst Friend = (props) => {\n  return (\n    <div className={s.item}>\n      <img className={s.image} src={props.imgSrc} alt=\"\"/>\n      <h3 className={s.name} >{props.name}</h3>\n    </div>\n  )\n}\n\nexport default Friend","import React from 'react'\nimport s from './Friends.module.css'\nimport Friend from './Friend/Friend'\n\nconst Friends = (props) => {\n\n\nlet friendsElements = props.friendsState.map( el => <Friend key={el.id} imgSrc={el.imgSrc} name={el.name}/> )\n\n\n  return(\n    <div className={s.friends}>\n      <h2 className={s.title}>Friends</h2>\n\n      <div className={s.container}>\n        {friendsElements}\n      </div>\n    \n    </div>\n  )\n}\n\nexport default Friends","import React from 'react'\nimport Friends from './Friends'\nimport {connect} from 'react-redux'\n\nconst mapStateToProps = (state) => ({friendsState: state.sidebar.friends})\nconst FriendsContainer = connect(mapStateToProps)(Friends)\n\nexport default FriendsContainer","import React from 'react'\nimport Navbar from './Navbar/Navbar'\nimport FriendsContainer from './Friends/FriendsContainer'\n\nconst Sidebar = () => {\n  return(\n    <div className=\"sidebar\">\n      <Navbar/>\n      <FriendsContainer/>\n    </div>\n  )\n}\n\nexport default Sidebar","import React, {Suspense} from 'react'\nimport Preloader from '../components/common/Preloader/Preloader'\n\n// const withSuspense = (WrappedComponent) => {\n//   return class extends React.Component {\n//     render(){\n//       return <Suspense fallback={<Preloader/>}>\n//         <WrappedComponent {...this.props}/>\n//       </Suspense>\n//     }\n//   }\n// }\n\nconst withSuspense = (WrappedComponent) => (props) => {\n  return <Suspense fallback={<Preloader/>}>\n    <WrappedComponent {...props}/>\n  </Suspense>\n}\n\n\n\nexport default withSuspense","import React, { lazy, Component, Suspense } from 'react'\nimport { Route, Switch, withRouter } from 'react-router-dom'\nimport { initialization } from './redux/appReducer'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport './App.css'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport Sidebar from './components/Sidebar/Sidebar'\nimport Preloader from './components/common/Preloader/Preloader'\nimport withSuspense from './hoc/withSuspense'\n\n\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'))\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'))\nconst Login = lazy(() => import('./components/Login/Login'))\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initialization()\n  }\n\n  render() {\n    if (!this.props.isInit) return <Preloader />\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Sidebar />\n        <div className='app-wrapper-content'>\n            <Switch>\n              <Route path='/login' render={() => <Login />} />\n              <Route path='/dialogs' render={() => <DialogsContainer />} />\n              <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\n              <Route path='/users' render={() => <UsersContainer />} />\n\n            </Switch>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => ({ isInit: state.app.isInitialized })\n\n// export default connect(mapStateToProps, {initialization})(App)\n\nexport default compose(\n  withSuspense,\n  withRouter,\n  connect(mapStateToProps, { initialization })\n)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\n  friends: [\n    {\n      id: 1,\n      imgSrc: \"https://pbs.twimg.com/profile_images/2961744297/163acffba0bb34c5e9c2b5a7e3dfdbdd.jpeg\",\n      name: \"Ashton\"\n    },\n    {\n      id: 2,\n      imgSrc: \"https://i.guim.co.uk/img/static/sys-images/Film/Pix/pictures/2007/11/21/wristcutters_sq.jpg?width=300&quality=85&auto=format&fit=max&s=57a595e431a97a203fad29fe2ccfd453\",\n      name: \"Shannyn\"\n    },\n    {\n      id: 3,\n      imgSrc: \"https://www.stylist.co.uk/images/app/uploads/2017/11/29085005/johnny-depp-crop-1511945435-1090x1090.jpg?w=256&h=256&fit=max&auto=format%2Ccompress\",\n      name: \"Johny\"\n    },\n    {\n      id: 4,\n      imgSrc: \"https://www.stylist.co.uk/images/app/uploads/2019/08/27124508/resized-lucy-4-256x256.jpg?w=256&h=256&fit=max&auto=format%2Ccompress\",\n      name: \"Natalie\"\n    }\n  ]\n}\n\nconst sidebarReducer = (state = initialState, action) => {\n  return state\n}\n\nexport default sidebarReducer","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport {reducer as formReducer} from 'redux-form'\nimport appReducer from './appReducer'\nimport profileReducer from './profileReducer'\nimport dialogReducer from './dialogsReducer'\nimport sidebarReducer from './sidebarReducer'\nimport usersReducer from './usersReducer'\nimport preloaderReducer from './preloaderReducer'\nimport authReducer from './authReducer'\n\nconst rootReducer = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  preloader: preloaderReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers( applyMiddleware(thunkMiddleware) ));\n\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware) )\n\nwindow.store = store\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport store from './redux/store'\nimport {HashRouter} from \"react-router-dom\"\nimport {Provider} from \"react-redux\"\n\n\n\nReactDOM.render(\n  <HashRouter basename='/'>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </HashRouter>, \n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { authAPI } from '../API/API'\nimport { stopSubmit } from 'redux-form'\n\nconst SET_AUTH_DATA = 'auth/SET_AUTH_DATA'\n\nlet initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuthorized: false\n}\n\nconst authReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case SET_AUTH_DATA:\n      return {\n        ...state,\n        ...action.payload\n      }\n\n    default:\n      return state\n  }\n}\n\nexport const setAuthData = (id, email, login, isAuthorized) => ({ type: SET_AUTH_DATA, payload: { id, email, login, isAuthorized } })\n\nexport const getAuth = () => async (dispatch) => {\n  let data = await authAPI.me()\n  let { id, email, login } = data.data\n  if (data.resultCode === 0) dispatch(setAuthData(id, email, login, true))\n  return data\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n  let data = await authAPI.login(email, password, rememberMe)\n  if (data.resultCode === 0) {\n    dispatch(getAuth())\n  } else {\n    let message = (data.messages.length > 0) ? data.messages[0] : 'Server error'\n    dispatch(stopSubmit('login', { _error: message }))\n  }\n}\n\nexport const logout = () => async (dispatch) => {\n  let data = await authAPI.logout()\n  if (data.resultCode === 0) dispatch(setAuthData(null, null, null, false))\n}\n\nexport default authReducer","import React from 'react'\nimport style from './Preloader.module.css'\nimport {BubbleSpinLoader} from 'react-css-loaders'\n\nconst Preloader = () => {\n  return (\n    <div className={style.preloaderContainer}>\n      <div className={style.preloader}> \n\n        <BubbleSpinLoader color='#fff'/>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__20TGW\",\"title\":\"Friends_title__taOV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Friend_item__1swqc\",\"image\":\"Friend_image__3nZWE\",\"name\":\"Friend_name__3Zfb6\"};","import * as axios from 'axios'\n\nconst server = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: { \"API-KEY\": \"15f9d65f-a9d8-4f21-9b16-0d634e9d5732\" }\n\n})\n\nexport const authAPI = {\n  me() { return server.get(`auth/me`).then(r => r.data) },\n  login(email, password, rememberMe = false) {\n    return server.post('auth/login', { email, password, rememberMe }).then(r => r.data)\n  },\n  logout() { return server.delete('auth/login').then(r => r.data) }\n}\n\nexport const usersAPI = {\n  getUsers(pageNum = 1, usersPerPage = 10) {\n    return server.get(`users?page=${pageNum}&count=${usersPerPage}`).then(r => r.data)\n  }\n}\n\nexport const profileAPI = {\n  getProfileInfo(id) { return server.get(`/profile/${id}`).then(r => r.data) },\n  getProfileStatus(id) { return server.get(`/profile/status/${id}`).then(r => r.data) },\n  updateProfileStatus(status) { return server.put('/profile/status', { status }).then(r => r.data) },\n  uploadProfilePhoto(img) {\n    const formData = new FormData()\n    formData.append('image', img)\n    return server.put('profile/photo', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(r => r.data)\n  }\n}\n\nexport const followAPI = {\n  follow(id) { return server.post(`follow/${id}`).then(r => r.data) },\n  unfollow(id) { return server.delete(`follow/${id}`).then(r => r.data) }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderContainer\":\"Preloader_preloaderContainer__1D5OQ\",\"preloader\":\"Preloader_preloader__2dvkO\"};","import { togglePreloader } from './preloaderReducer'\nimport { profileAPI } from '../API/API'\n\nconst ADD_NEW_POST = 'profile/ADD-NEW-POST'\nconst DELETE_POST = 'profile/DELETE_POST'\nconst SET_PROFILE_INFO = 'profile/SET_PROFILE_INFO'\nconst SET_PROFILE_STATUS = 'profile/SET_PROFILE_STATUS'\nconst SET_PROFILE_PHOTO_SUCCESS = 'profile/SET_PROFILE_PHOTO_SUCCESS'\n\n\nconst initialState = {\n  profileInfo: null,\n  posts: [\n    { id: 1, message: 'Hi, how are you?', likesCount: 12 },\n    { id: 2, message: 'It\\'s my first post', likesCount: 11 },\n    { id: 3, message: 'Blabla', likesCount: 11 },\n    { id: 4, message: 'Dada', likesCount: 11 }\n  ],\n  profileStatus: \"\",\n}\n\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case ADD_NEW_POST:\n      let newPost = { id: 5, message: action.newPost, likesCount: 0 }\n      return {\n        ...state,\n        posts: [\n          ...state.posts,\n          newPost\n        ]\n      }\n\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.id)\n      }\n\n    case SET_PROFILE_INFO:\n      return {\n        ...state,\n        profileInfo: action.profileInfo\n      }\n\n    case SET_PROFILE_STATUS:\n      return {\n        ...state,\n        profileStatus: action.profileStatus\n      }\n\n    case SET_PROFILE_PHOTO_SUCCESS: \n      return {\n        ...state,\n        profileInfo: {...state.profileInfo, photos: action.photos}\n      }\n\n    default:\n      return state\n  }\n}\n\nexport const addNewPost = (newPost) => ({ type: ADD_NEW_POST, newPost })\nexport const deletePost = (id) => ({ type: DELETE_POST, id })\nconst setProfileInfo = (profileInfo) => ({ type: SET_PROFILE_INFO, profileInfo })\nconst setProfileStatus = (profileStatus) => ({ type: SET_PROFILE_STATUS, profileStatus })\nconst setProfilePhotoSuccess = (photos) => {return { type: SET_PROFILE_PHOTO_SUCCESS, photos }}\n\n\nexport const getProfileInfo = (userId) => async (dispatch) => {\n  dispatch(togglePreloader(true))\n  let data = await profileAPI.getProfileInfo(userId)\n  dispatch(setProfileInfo(data))\n  dispatch(togglePreloader(false))\n}\n\nexport const getProfileStatus = (userId) => async (dispatch) => {\n  let data = await profileAPI.getProfileStatus(userId)\n  dispatch(setProfileStatus(data))\n}\n\nexport const updateProfileStatus = (status) => async (dispatch) => {\n  let data = await profileAPI.updateProfileStatus(status)\n  if (data.resultCode === 0) dispatch(setProfileStatus(status))\n}\n\nexport const setProfilePhoto = (img) => async (dispatch) => {\n  dispatch(togglePreloader(true))\n  let data = await profileAPI.uploadProfilePhoto(img)\n  if (data.resultCode === 0) dispatch(setProfilePhotoSuccess(data.data.photos))\n  dispatch(togglePreloader(false))\n}\n\nexport default profileReducer","const ADD_NEW_MESSAGE = 'ADD-NEW-MESSAGE'\n\nconst initialState = {\n  dialogs: [\n    {id: 1, name: 'Dimych'},\n    {id: 2, name: 'Andrew'},\n    {id: 3, name: 'Sveta'},\n    {id: 4, name: 'Sasha'},\n    {id: 5, name: 'Viktor'},\n    {id: 6, name: 'Valera'},\n  ],\n  messages: [\n    {id: 1, message: 'Hi'},\n    {id: 2, message: 'How is your it-kamasutra?'},\n    {id: 3, message: 'Yo'},\n    {id: 4, message: 'Yo'},\n    {id: 5, message: 'Yo'},\n    {id: 6, message: 'How is your it-kamasutra?'},\n  ]\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\n  switch(action.type){\n\n    case ADD_NEW_MESSAGE:\n      return {\n        ...state, \n        messages: [\n          ...state.messages, \n          {\n            id: 7, \n            message: action.newMessage\n          }\n        ]\n      }\n\n    default:\n      return state\n  }\n}\n\nexport const addNewMessage = (newMessage) => ({type: ADD_NEW_MESSAGE, newMessage})\n\n\nexport default dialogsReducer","export const updateObjInArray = (arr, searchProp, objProp, updatingProps) => {\n  return arr.map((item) => {\n    if (item[searchProp] === objProp) return { ...item, ...updatingProps }\n    return item\n  })\n} ","import { usersAPI, followAPI } from '../API/API'\nimport { togglePreloader } from './preloaderReducer'\nimport {updateObjInArray} from '../utils/helpers'\n\nconst FOLLOW = 'users/FOLLOW'\nconst UNFOLLOW = 'users/UNFOLLOW'\nconst SET_STATE = 'users/SET_STATE'\nconst SET_TOTAL_COUNT = 'users/SET_TOTAL_COUNT'\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE'\n\nconst initialState = {\n  users: [],\n  usersTotalCount: 0,\n  usersPerPage: 20,\n  currentPage: 1,\n}\n\nconst usersReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjInArray(state.users, 'id', action.id, {followed: true})\n      }\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjInArray(state.users, 'id', action.id, {followed: false})\n      }\n\n    case SET_STATE:\n      return {\n        ...state,\n        users: action.users\n      }\n\n    case SET_TOTAL_COUNT:\n      return {\n        ...state,\n        usersTotalCount: action.count\n      }\n\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.pageNum\n      }\n\n    default:\n      return state\n  }\n\n}\n\nconst followUser = (id) => ({ type: FOLLOW, id: id })\nconst unfollowUser = (id) => ({ type: UNFOLLOW, id: id })\nconst setUsersState = (users) => ({ type: SET_STATE, users: users })\nconst setUsersTotalCount = (count) => ({ type: SET_TOTAL_COUNT, count: count })\nconst setUsersCurrentPage = (pageNum) => ({ type: SET_CURRENT_PAGE, pageNum: pageNum })\n\nexport const getUsers = (\n  currentPage = initialState.currentPage,\n  usersPerPage = initialState.usersPerPage\n) => async (dispatch) => {\n  dispatch(togglePreloader(true))\n  dispatch(setUsersCurrentPage(currentPage))\n  let data = await usersAPI.getUsers(currentPage, usersPerPage)\n  dispatch(setUsersState(data.items))\n  dispatch(setUsersTotalCount(data.totalCount))\n  dispatch(togglePreloader(false))\n}\n\nconst followUnfollowCreator = async (dispatch, id, apiMethod, actionCreator) => {\n  dispatch(togglePreloader(true))\n  let data = await apiMethod(id)\n  if (data.resultCode === 0) dispatch(actionCreator(id))\n  dispatch(togglePreloader(false))\n}\n\nexport const follow = (id) => (dispatch) => \nfollowUnfollowCreator(dispatch, id, followAPI.follow.bind(followAPI), followUser)\n\nexport const unfollow = (id) => (dispatch) => \nfollowUnfollowCreator(dispatch, id, followAPI.unfollow.bind(followAPI), unfollowUser)\n\n\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\"};"],"sourceRoot":""}